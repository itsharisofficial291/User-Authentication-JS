<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Register</title>
    <link rel="stylesheet" href="login.html">
    <link rel="stylesheet" href="register.html">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
</head>
<style>
    *{
        margin: 0;
        padding: 0;
        box-sizing: border-box;
        
    }

  /* Styles for the popup container */
.popup {
    display: none;
    position: fixed;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    background-color: white;
    padding: 20px;
    border: 1px solid #ccc;
    box-shadow: 0px 2px 10px rgba(0, 0, 0, 0.1);
    text-align: center;
}

/* Styles for the popup image */
.popup img {
    max-width: 100px;
    margin-bottom: 10px;
}

/* Styles for the popup heading */
.popup h2 {
    font-size: 24px;
    margin-bottom: 10px;
}

/* Styles for the popup paragraph */
.popup p {
    font-size: 16px;
    margin-bottom: 20px;
}

/* Styles for the close button */
.popup button {
    padding: 10px 20px;
    background-color: #007bff;
    color: white;
    border: none;
    cursor: pointer;
}


</style>
</head>
<body>

    


    
    <form name="fm">
        <div class="container">
            <div class="row mt-5">
                <div class="col-md-10">
                    <h2 class="text-center">Register</h2>
                <div class="mt-3">
                    <label id="lbl1"></label>
                    <input id="box1" type="text" class="form-control" name="Username" aria-describedby="emailHelp" placeholder="Insert Username">
                </div>
                <div class="mt-3">
                    <label id="lbl2"></label>
                    <input id="box2" class="form-control" name="Email" aria-describedby="emailHelp" placeholder="Enter Your Email">
                </div>
                <div class="mt-3">
                    <label id="lbl3"></label>
                    <input type="password" id="box3" class="form-control" name="password" placeholder="Enter Your Password">
                </div>
                <div class="mt-5 text-center">
                <input type="button" class="btn btn-primary col-md-3"  value="Register" onclick="validation()" placeholder="Button">
                <a href="login.html"><input type="button" class="btn btn-primary col-md-3"  value="Login" placeholder="Button"></a>
            
            </div>
        </div>
            </div>
        </div>
      
        <div class="popup" id="popup">
            <img src="https://media.istockphoto.com/id/496603666/vector/flat-icon-check.jpg?s=1024x1024&w=is&k=20&c=E6_74RYqBA344pRG-k8H810ty63b7H6eQmiMxlrsAPg=" alt="Success Check">
            <h2>Thank You</h2>
            <p>You are successfuly registerd. click ok to login</p>
          
            <button type="button" onclick="closePopup()">OK</button>

            
            </div>
    </form>

    <script>
let popup = document.getElementById('popup');
    
    function openPopup() {
        popup.style.display = 'block'; // Show the popup
    }
    
    function closePopup() {
        popup.style.display = 'none'; // Hide the popup
    }
    
    function validation() {
        let name = fm.Username.value;
        let email = fm.Email.value;
        let password = fm.password.value; // Corrected from fm.Password.value
    
        // Reset error messages and borders
        document.getElementById('lbl1').innerHTML = "";
        document.getElementById('lbl2').innerHTML = "";
        document.getElementById('lbl3').innerHTML = "";
        document.getElementById('box1').style.borderColor = "initial";
        document.getElementById('box2').style.borderColor = "initial";
        document.getElementById('box3').style.borderColor = "initial";
    
        var emailRegex = /^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,})+$/; // Corrected the regex
        var passwordRegex = /^(?=^.{8,}$)((?=.*\d)|(?=.*\W+))(?![.\n])(?=.*[A-Z])(?=.*[a-z]).*$/;
    
        if (name.length == 0) {
            document.getElementById('lbl1').innerHTML = "Please Enter Username";
            document.getElementById('lbl1').style.color = "red";
            document.getElementById('box1').style.borderColor = "red";
        } else {
            document.getElementById('box1').style.borderColor = "green";
        }
    
        if (email.length == 0) {
            document.getElementById('lbl2').innerHTML = "Please Enter Your Email";
            document.getElementById('lbl2').style.color = "red";
            document.getElementById('box2').style.borderColor = "red";
        } else if (!emailRegex.test(email)) {
            document.getElementById('lbl2').innerHTML = "Invalid Email. It must be in the format 'user@example.com'";
            document.getElementById('lbl2').style.color = "red";
            document.getElementById('box2').style.borderColor = "red";
        } else {
            document.getElementById('box2').style.borderColor = "green";
        }
    
        if (password.length == 0) {
            document.getElementById('lbl3').innerHTML = "Please Enter Your Password";
            document.getElementById('lbl3').style.color = "red";
            document.getElementById('box3').style.borderColor = "red";
        } else if (!passwordRegex.test(password)) {
            document.getElementById('lbl3').innerHTML = "A password must contain at least eight characters, including at least one number, both lower and uppercase letters, and special characters (e.g., #, ?, !).";
            document.getElementById('lbl3').style.color = "red";
            document.getElementById('box3').style.borderColor = "red";
        } else {
            document.getElementById('box3').style.borderColor = "green";
    
            if (name.length !== 0 && emailRegex.test(email) && passwordRegex.test(password)) {
                localStorage.setItem('Username', name);
                localStorage.setItem('Email', email);
                localStorage.setItem('Password', password);
                openPopup();
            }
        }
    }
    

    </script>
    



</body>
</html>
